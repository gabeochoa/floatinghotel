#TDD not ready
# Flow: Write a commit message and commit staged changes
# User stages files, types a message, and commits
make_test_repo
resize 1280 720
wait_frames 5

# Hide sidebar to access toolbar buttons
click_text "View"
wait_frames 3
click_text "Toggle Sidebar"
wait_frames 5

# Stage all files first
click_text "Stage All"
wait_frames 5
screenshot flow_commit_01_staged

# Click Commit button to open the commit editor
click_text "Commit"
wait_frames 5
screenshot flow_commit_02_editor_open

# Type a commit message
type "Add build config and todo list"
wait_frames 5
screenshot flow_commit_03_message_typed

# Submit the commit (Enter or a confirm button)
enter
wait_frames 5
screenshot flow_commit_04_committed

# The file list should now be empty (working tree clean)
screenshot flow_commit_05_clean_state
